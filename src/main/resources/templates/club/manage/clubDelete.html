<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('모임 삭제 관리', ~{::link}, ~{::script})}">
    <link rel="stylesheet" th:href="@{/css/manage.css}">
</head>
<body>
<div class="grid-container">
    <header th:replace="~{fragments/header :: header}" class="header"></header>

    <main class="main">
        <div class="manage-main-container">
            <aside th:replace="~{fragments/manageSidebar :: sidebar('delete')}"></aside>

            <section class="manage-content-area">
                <h3>모임 삭제 관리</h3>

                <div th:if="${club.status == 'DELETED_PENDING'}" class="alert-box pending-box">
                    <p>⚠️ <strong>이 모임은 현재 삭제 대기 상태입니다.</strong></p>
                    <p>
                        복구 가능 기간이 지나면 모든 데이터가 영구 삭제됩니다. <br>
                        <strong>남은 시간: </strong>
                        <span th:text="${club.remainingTime}" class="time-limit">7일 0시간 남음</span>
                    </p>
                    <div class="action-area">
                        <button type="button" class="btn-restore" th:onclick="|restoreClub(${club.clubId})|">삭제 취소 (지금 복구하기)</button>
                    </div>
                </div>

                <div th:if="${club.status == 'ACTIVE'}" class="alert-box active-box">
                    <p class="warning-text">모임을 삭제하면 7일 동안의 유예 기간 후 영구 삭제됩니다.</p>
                    <div class="action-area">
                        <button type="button" class="btn-danger" th:onclick="|deleteClub(${club.clubId})|">삭제 요청하기</button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer th:replace="~{fragments/footer :: footer}" class="footer"></footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script th:src="@{/js/club/manage.js}"></script>
</body>
</html>